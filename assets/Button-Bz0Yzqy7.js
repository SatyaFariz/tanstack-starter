import{$ as $e,a as ge,b as W,d as ye,e as le,f as de,g as U,h as Pe,i as he,k as O,l as Te,m as me,n as m,o as P,p as Ee,q as xe,r as R,s as Se,t as we,u as ke,v as Z,w as _e,x as ce,y as Ce,z as Le,A as Ke,B as Ie,C as Ae,D as ee}from"./useFocusRing--mhHxzNR.js";import{R as X,r as x}from"./index-D4lIrffr.js";import{r as Oe}from"./index-DsJinFGm.js";function H(e,r,s=!0){var o,a;let{metaKey:d,ctrlKey:c,altKey:u,shiftKey:$}=r;$e()&&(!((a=window.event)===null||a===void 0||(o=a.type)===null||o===void 0)&&o.startsWith("key"))&&e.target==="_blank"&&(W()?d=!0:c=!0);let y=ge()&&W()&&!ye()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:d,ctrlKey:c,altKey:u,shiftKey:$}):new MouseEvent("click",{metaKey:d,ctrlKey:c,altKey:u,shiftKey:$,bubbles:!0,cancelable:!0});H.isOpening=s,le(e),e.dispatchEvent(y),H.isOpening=!1}H.isOpening=!1;Oe();let F="default",z="",Y=new WeakMap;function De(e){if(de()){if(F==="default"){const r=U(e);z=r.documentElement.style.webkitUserSelect,r.documentElement.style.webkitUserSelect="none"}F="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let r="userSelect"in e.style?"userSelect":"webkitUserSelect";Y.set(e,e.style[r]),e.style[r]="none"}}function te(e){if(de()){if(F!=="disabled")return;F="restoring",setTimeout(()=>{Pe(()=>{if(F==="restoring"){const r=U(e);r.documentElement.style.webkitUserSelect==="none"&&(r.documentElement.style.webkitUserSelect=z||""),z="",F="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&Y.has(e)){let r=Y.get(e),s="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[s]==="none"&&(e.style[s]=r),e.getAttribute("style")===""&&e.removeAttribute("style"),Y.delete(e)}}const fe=X.createContext({register:()=>{}});fe.displayName="PressResponderContext";function Me(e,r){return r.get?r.get.call(e):r.value}function ue(e,r,s){if(!r.has(e))throw new TypeError("attempted to "+s+" private field on non-instance");return r.get(e)}function Ue(e,r){var s=ue(e,r,"get");return Me(e,s)}function Fe(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Re(e,r,s){Fe(e,r),r.set(e,s)}function He(e,r,s){if(r.set)r.set.call(e,s);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=s}}function re(e,r,s){var o=ue(e,r,"set");return He(e,o,s),s}function Ne(e){let r=x.useContext(fe);if(r){let{register:s,...o}=r;e=R(o,e),s()}return Se(r,e.ref),e}var V=new WeakMap;class B{continuePropagation(){re(this,V,!1)}get shouldStopPropagation(){return Ue(this,V)}constructor(r,s,o,a){Re(this,V,{writable:!0,value:void 0}),re(this,V,!0);var d;let c=(d=a==null?void 0:a.target)!==null&&d!==void 0?d:o.currentTarget;const u=c==null?void 0:c.getBoundingClientRect();let $,y=0,S,g=null;o.clientX!=null&&o.clientY!=null&&(S=o.clientX,g=o.clientY),u&&(S!=null&&g!=null?($=S-u.left,y=g-u.top):($=u.width/2,y=u.height/2)),this.type=r,this.pointerType=s,this.target=o.currentTarget,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.x=$,this.y=y}}const ne=Symbol("linkClicked"),ie="react-aria-pressable-style",se="data-react-aria-pressable";function Ve(e){let{onPress:r,onPressChange:s,onPressStart:o,onPressEnd:a,onPressUp:d,onClick:c,isDisabled:u,isPressed:$,preventFocusOnPress:y,shouldCancelOnPointerExit:S,allowTextSelectionOnPress:g,ref:C,...D}=Ne(e),[L,w]=x.useState(!1),p=x.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:T,removeAllGlobalListeners:K}=he(),k=O((t,l)=>{let b=p.current;if(u||b.didFirePressStart)return!1;let n=!0;if(b.isTriggeringEvent=!0,o){let f=new B("pressstart",l,t);o(f),n=f.shouldStopPropagation}return s&&s(!0),b.isTriggeringEvent=!1,b.didFirePressStart=!0,w(!0),n}),I=O((t,l,b=!0)=>{let n=p.current;if(!n.didFirePressStart)return!1;n.didFirePressStart=!1,n.isTriggeringEvent=!0;let f=!0;if(a){let i=new B("pressend",l,t);a(i),f=i.shouldStopPropagation}if(s&&s(!1),w(!1),r&&b&&!u){let i=new B("press",l,t);r(i),f&&(f=i.shouldStopPropagation)}return n.isTriggeringEvent=!1,f}),N=O((t,l)=>{let b=p.current;if(u)return!1;if(d){b.isTriggeringEvent=!0;let n=new B("pressup",l,t);return d(n),b.isTriggeringEvent=!1,n.shouldStopPropagation}return!0}),A=O(t=>{let l=p.current;if(l.isPressed&&l.target){l.didFirePressStart&&l.pointerType!=null&&I(M(l.target,t),l.pointerType,!1),l.isPressed=!1,l.isOverTarget=!1,l.activePointerId=null,l.pointerType=null,K(),g||te(l.target);for(let b of l.disposables)b();l.disposables=[]}}),J=O(t=>{S&&A(t)}),j=O(t=>{c==null||c(t)}),Q=O((t,l)=>{if(c){let b=new MouseEvent("click",t);Te(b,l),c(me(b))}}),ve=x.useMemo(()=>{let t=p.current,l={onKeyDown(n){if(G(n.nativeEvent,n.currentTarget)&&m(n.currentTarget,P(n.nativeEvent))){var f;ae(P(n.nativeEvent),n.key)&&n.preventDefault();let i=!0;if(!t.isPressed&&!n.repeat){t.target=n.currentTarget,t.isPressed=!0,t.pointerType="keyboard",i=k(n,"keyboard");let v=n.currentTarget,h=_=>{G(_,v)&&!_.repeat&&m(v,P(_))&&t.target&&N(M(t.target,_),"keyboard")};T(U(n.currentTarget),"keyup",ke(h,b),!0)}i&&n.stopPropagation(),n.metaKey&&W()&&((f=t.metaKeyEvents)===null||f===void 0||f.set(n.key,n.nativeEvent))}else n.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(n){if(!(n&&!m(n.currentTarget,P(n.nativeEvent)))&&n&&n.button===0&&!t.isTriggeringEvent&&!H.isOpening){let f=!0;if(u&&n.preventDefault(),!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||we(n.nativeEvent))){let i=k(n,"virtual"),v=N(n,"virtual"),h=I(n,"virtual");j(n),f=i&&v&&h}else if(t.isPressed&&t.pointerType!=="keyboard"){let i=t.pointerType||n.nativeEvent.pointerType||"virtual";f=I(M(n.currentTarget,n),i,!0),t.isOverTarget=!1,j(n),A(n)}t.ignoreEmulatedMouseEvents=!1,f&&n.stopPropagation()}}},b=n=>{var f;if(t.isPressed&&t.target&&G(n,t.target)){var i;ae(P(n),n.key)&&n.preventDefault();let h=P(n),_=m(t.target,P(n));I(M(t.target,n),"keyboard",_),_&&Q(n,t.target),K(),n.key!=="Enter"&&q(t.target)&&m(t.target,h)&&!n[ne]&&(n[ne]=!0,H(t.target,n,!1)),t.isPressed=!1,(i=t.metaKeyEvents)===null||i===void 0||i.delete(n.key)}else if(n.key==="Meta"&&(!((f=t.metaKeyEvents)===null||f===void 0)&&f.size)){var v;let h=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let _ of h.values())(v=t.target)===null||v===void 0||v.dispatchEvent(new KeyboardEvent("keyup",_))}};if(typeof PointerEvent<"u"){l.onPointerDown=i=>{if(i.button!==0||!m(i.currentTarget,P(i.nativeEvent)))return;if(Ee(i.nativeEvent)){t.pointerType="virtual";return}t.pointerType=i.pointerType;let v=!0;if(!t.isPressed){t.isPressed=!0,t.isOverTarget=!0,t.activePointerId=i.pointerId,t.target=i.currentTarget,g||De(t.target),v=k(i,t.pointerType);let h=P(i.nativeEvent);"releasePointerCapture"in h&&h.releasePointerCapture(i.pointerId),T(U(i.currentTarget),"pointerup",n,!1),T(U(i.currentTarget),"pointercancel",f,!1)}v&&i.stopPropagation()},l.onMouseDown=i=>{if(m(i.currentTarget,P(i.nativeEvent))&&i.button===0){if(y){let v=xe(i.target);v&&t.disposables.push(v)}i.stopPropagation()}},l.onPointerUp=i=>{!m(i.currentTarget,P(i.nativeEvent))||t.pointerType==="virtual"||i.button===0&&N(i,t.pointerType||i.pointerType)},l.onPointerEnter=i=>{i.pointerId===t.activePointerId&&t.target&&!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,k(M(t.target,i),t.pointerType))},l.onPointerLeave=i=>{i.pointerId===t.activePointerId&&t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,I(M(t.target,i),t.pointerType,!1),J(i))};let n=i=>{if(i.pointerId===t.activePointerId&&t.isPressed&&i.button===0&&t.target){if(m(t.target,P(i))&&t.pointerType!=null){let v=!1,h=setTimeout(()=>{t.isPressed&&t.target instanceof HTMLElement&&(v?A(i):(le(t.target),t.target.click()))},80);T(i.currentTarget,"click",()=>v=!0,!0),t.disposables.push(()=>clearTimeout(h))}else A(i);t.isOverTarget=!1}},f=i=>{A(i)};l.onDragStart=i=>{m(i.currentTarget,P(i.nativeEvent))&&A(i)}}return l},[T,u,y,K,g,A,J,I,k,N,j,Q]);return x.useEffect(()=>{if(!C)return;const t=U(C.current);if(!t||!t.head||t.getElementById(ie))return;const l=t.createElement("style");l.id=ie,l.textContent=`
@layer {
  [${se}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),t.head.prepend(l)},[C]),x.useEffect(()=>{let t=p.current;return()=>{var l;g||te((l=t.target)!==null&&l!==void 0?l:void 0);for(let b of t.disposables)b();t.disposables=[]}},[g]),{isPressed:$||L,pressProps:R(D,ve,{[se]:!0})}}function q(e){return e.tagName==="A"&&e.hasAttribute("href")}function G(e,r){const{key:s,code:o}=e,a=r,d=a.getAttribute("role");return(s==="Enter"||s===" "||s==="Spacebar"||o==="Space")&&!(a instanceof Z(a).HTMLInputElement&&!pe(a,s)||a instanceof Z(a).HTMLTextAreaElement||a.isContentEditable)&&!((d==="link"||!d&&q(a))&&s!=="Enter")}function M(e,r){let s=r.clientX,o=r.clientY;return{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:s,clientY:o}}function Be(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!q(e)}function ae(e,r){return e instanceof HTMLInputElement?!pe(e,r):Be(e)}const Ye=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function pe(e,r){return e.type==="checkbox"||e.type==="radio"?r===" ":Ye.has(e.type)}function je(e,r){let{elementType:s="button",isDisabled:o,onPress:a,onPressStart:d,onPressEnd:c,onPressUp:u,onPressChange:$,preventFocusOnPress:y,allowFocusWhenDisabled:S,onClick:g,href:C,target:D,rel:L,type:w="button"}=e,p;s==="button"?p={type:w,disabled:o}:p={role:"button",href:s==="a"&&!o?C:void 0,target:s==="a"?D:void 0,type:s==="input"?w:void 0,disabled:s==="input"?o:void 0,"aria-disabled":!o||s==="input"?void 0:o,rel:s==="a"?L:void 0};let{pressProps:T,isPressed:K}=Ve({onPressStart:d,onPressEnd:c,onPressChange:$,onPress:a,onPressUp:u,onClick:g,isDisabled:o,preventFocusOnPress:y,ref:r}),{focusableProps:k}=_e(e,r);S&&(k.tabIndex=o?-1:k.tabIndex);let I=R(k,T,ce(e,{labelable:!0}));return{isPressed:K,buttonProps:R(p,I,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"]})}}const be=7e3;let E=null;function oe(e,r="assertive",s=be){E?E.announce(e,r,s):(E=new Ge,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?E.announce(e,r,s):setTimeout(()=>{E!=null&&E.isAttached()&&(E==null||E.announce(e,r,s))},100))}class Ge{isAttached(){var r;return(r=this.node)===null||r===void 0?void 0:r.isConnected}createLog(r){let s=document.createElement("div");return s.setAttribute("role","log"),s.setAttribute("aria-live",r),s.setAttribute("aria-relevant","additions"),s}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(r,s="assertive",o=be){var a,d;if(!this.node)return;let c=document.createElement("div");typeof r=="object"?(c.setAttribute("role","img"),c.setAttribute("aria-labelledby",r["aria-labelledby"])):c.textContent=r,s==="assertive"?(a=this.assertiveLog)===null||a===void 0||a.appendChild(c):(d=this.politeLog)===null||d===void 0||d.appendChild(c),r!==""&&setTimeout(()=>{c.remove()},o)}clear(r){this.node&&((!r||r==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!r||r==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}const We=x.createContext(null),Xe=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),ze=x.createContext({}),et=Ce(function(r,s){[r,s]=Le(r,s,ze),r=qe(r);let o=r,{isPending:a}=o,{buttonProps:d,isPressed:c}=je(r,s),{focusProps:u,isFocused:$,isFocusVisible:y}=Ke(r),{hoverProps:S,isHovered:g}=Ie({...r,isDisabled:r.isDisabled||a}),C={isHovered:g,isPressed:(o.isPressed||c)&&!a,isFocused:$,isFocusVisible:y,isDisabled:r.isDisabled||!1,isPending:a??!1},D=Ae({...r,values:C,defaultClassName:"react-aria-Button"}),L=ee(d.id),w=ee(),p=d["aria-labelledby"];a&&(p?p=`${p} ${w}`:d["aria-label"]&&(p=`${L} ${w}`));let T=x.useRef(a);return x.useEffect(()=>{let K={"aria-labelledby":p||L};(!T.current&&$&&a||T.current&&$&&!a)&&oe(K,"assertive"),T.current=a},[a,$,p,L]),X.createElement("button",{...ce(r,{propNames:Xe}),...R(d,u,S),...D,type:d.type==="submit"&&a?"button":d.type,id:L,ref:s,"aria-labelledby":p,slot:r.slot||void 0,"aria-disabled":a?"true":d["aria-disabled"],"data-disabled":r.isDisabled||void 0,"data-pressed":C.isPressed||void 0,"data-hovered":g||void 0,"data-focused":$||void 0,"data-pending":a||void 0,"data-focus-visible":y||void 0},X.createElement(We.Provider,{value:{id:w}},D.children))});function qe(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}export{et as $};
